!function(e){var t={};function n(r){var o;return(t[r]||(o=t[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/build/",n(n.s=14)}({14:function(e,t,n){e.exports=n("3+Gy")},"3+Gy":function(e,t){function n(e,t){var n,o,i,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return o=!(n=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==c.return||c.return()}finally{if(o)throw i}}};if(Array.isArray(e)||(c=function(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.injectRegisterForm=function(){var e,t=document.getElementById("registerForm"),n=document.getElementById("signin-banner-container"),r=document.getElementById("login-form-container");t||(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=window.registerPopupContent.trim("&quot;")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&amp;/g,"&")).replace(/(^"|"$)/g,"")).replace("window.showLoginPopup","window.showLoginForm")).replaceAll("register-email","register-form-email")).replaceAll("register-button","register-form-button"),(e=document.createElement("div")).innerHTML=t,(t=e.children[0]).setAttribute("id","register-form-container"),t.className="",t.classList.add("w-login-banner","user-content"),(e=t.children[0]).className="",e.classList.add("user-static-form","popup","user-content"),(e=e.children[0]).className="",e.classList.add("is-hidden"),e.setAttribute("id","registerFormCloseBtn"),(r||n).replaceWith(t),(grecaptcha="undefined"==typeof grecaptcha?{}:grecaptcha).ready=function(e){var t;"undefined"==typeof grecaptcha?(t="___grecaptcha_cfg",window[t]=window[t]||{},(window[t].fns=window[t].fns||[]).push(e)):e()},grecaptcha.ready((function(){window.widgetId1=grecaptcha.render("site_captcha_2",{sitekey:window.recaptchaSiteKey,callback:window.onSubmitRegisterGetCaptchaToken})})))},window.injectRegisterPopup=function(){var e;document.getElementById("register-popup-container")||window.registerPopupInjected||(e=(e=(e=(e=(e=(e=(e=(e=(e=window.registerPopupContent.trim("&quot;")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&amp;/g,"&")).replace(/(^"|"$)/g,"")).replaceAll("registerForm","registerPopup")).replaceAll("site_captcha_2","site_captcha_3"),document.body.insertAdjacentHTML("beforeend",e),(grecaptcha="undefined"==typeof grecaptcha?{}:grecaptcha).ready=function(e){var t;"undefined"==typeof grecaptcha?(t="___grecaptcha_cfg",window[t]=window[t]||{},(window[t].fns=window[t].fns||[]).push(e)):e()},grecaptcha.ready((function(){window.widgetId2=grecaptcha.render("site_captcha_3",{sitekey:window.recaptchaSiteKey,callback:window.onSubmitRegisterGetCaptchaToken})})),window.registerPopupInjected=!0)},window.showRegisterPopup=function(e,t){t&&t.preventDefault(),window.resetStickyAdsOnDrawerVisible();var r=((t=document.getElementById("login-popup-container"))&&t.classList.remove("is-visible"),window.injectRegisterPopup(),document.getElementById("register-popup-container")),o=(t=document.getElementById("closeRegisterPopupButton"),document.getElementById("registerPopup")),i=document.getElementById("register-form-validation"),a=document.getElementById("register-email");function c(e,t){var n=0<arguments.length&&void 0!==e?e:"red",r=1<arguments.length&&void 0!==t?t:"Required";i.style.color=n,i.innerText="".concat(r),setTimeout((function(){i.innerText=""}),3e3)}r.classList.add("is-visible"),window.handleCloseRegisterPopupOnDocumentClick=function(e){var t=o.contains(e.target);r.classList.contains("is-visible")?t||e.target===o||(r.classList.remove("is-visible"),document.removeEventListener("click",window.handleCloseRegisterPopupOnDocumentClick)):document.removeEventListener("click",window.handleCloseRegisterPopupOnDocumentClick)},setTimeout((function(){document.addEventListener("click",window.handleCloseRegisterPopupOnDocumentClick)}),500),e&&(a.value=e,o[2].focus()),t.addEventListener("click",(function(e){r.classList.remove("is-visible"),document.removeEventListener("click",window.handleCloseRegisterPopupOnDocumentClick)})),o.onsubmit=function(e){if(e.preventDefault(),!1===window.CAPTCHA_TOKEN_IS_GENERATED)c("red","Captcha is required!");else if(""===grecaptcha.getResponse(window.widgetId2))c("red","Captcha is required!");else{e=new FormData(e.target);var t,r=new URLSearchParams,o=n(e.entries());try{for(o.s();!(t=o.n()).done;){var i=t.value;r.append(i[0],i[1])}}catch(e){o.e(e)}finally{o.f()}var a=document.getElementById("register-form-error-msg"),s=(a&&a.classList.add("is-hidden"),e.get("register-email"),e.get("register-password"),document.getElementById("register-button").classList.add("loading"),new XMLHttpRequest);s.open("POST","/popup-register/",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){var e,t;4==s.readyState&&((t=JSON.parse(s.response)).user&&window.showNewsletterPreferencesPopup(null,null),t.error&&(e=document.getElementById("register-form-error-msg"))&&(e.textContent=t.error,e.classList.remove("is-hidden")),t=document.getElementById("register-button"))&&t.classList.remove("loading")},s.send(r.toString())}}},window.showRegisterForm=function(e,t,r){t&&t.preventDefault(),window.injectRegisterForm(),window.resetStickyAdsOnDrawerVisible(),document.getElementById("register-popup-container");var o=document.getElementById("register-form-validation"),i=(t=document.getElementById("registerForm"),document.getElementById("register-form-email")),a=t[2];function c(e,t){var n=0<arguments.length&&void 0!==e?e:"red",r=1<arguments.length&&void 0!==t?t:"Required";o.style.color=n,o.innerText="".concat(r),setTimeout((function(){o.innerText=""}),3e3)}(e?(i.value=e,i.classList.add("prefilled"),i.readOnly=!0,a):i).focus(),t.onsubmit=function(e){if(e.preventDefault(),!1===window.CAPTCHA_TOKEN_IS_GENERATED)c("red","Captcha is required!");else if(""===grecaptcha.getResponse(window.widgetId1))c("red","Captcha is required!");else{e=new FormData(e.target);var t,o=new URLSearchParams,i=n(e.entries());try{for(i.s();!(t=i.n()).done;){var a=t.value;o.append(a[0],a[1])}}catch(e){i.e(e)}finally{i.f()}var s=((s=document.getElementById("register-form-error-msg"))&&s.classList.add("is-hidden"),e.get("register-email"),e.get("register-password"),"/popup-register/");r&&(s="/popup-register-account/"),document.getElementById("register-form-button").classList.add("loading");var d=new XMLHttpRequest;d.open("POST",s,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){var e,t;4==d.readyState&&((t=JSON.parse(d.response)).user&&(ga("send","event",{eventCategory:"article_limit_drawer",eventAction:"registration",eventLabel:window.location.pathname}),gtag("event","article_limit_drawer",{event_action:"registration",event_label:window.location.pathname}),window.showNewsletterPreferencesPopup(null,null)),t.error&&(e=document.getElementById("register-form-error-msg"))&&(e.textContent=t.error,e.classList.remove("is-hidden")),t=document.getElementById("register-form-button"))&&t.classList.remove("loading")},d.send(o.toString())}}},window.onSubmitRegisterGetCaptchaToken=function(e){console.log(e),void 0!==e&&(window.CAPTCHA_TOKEN_IS_GENERATED=!0,window.USER_TOKEN=e)}}});