!function(e){var n={};function t(o){var i;return(n[o]||(i=n[o]={i:o,l:!1,exports:{}},e[o].call(i.exports,i,i.exports,t),i.l=!0,i)).exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/public/build/",t(t.s=13)}({13:function(e,n,t){e.exports=t("EEx7")},EEx7:function(e,n){function t(e,n){var t,i,r,l,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(t=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return t=e.done,e},e:function(e){i=!0,r=e},f:function(){try{t||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=function(e,n){var t;if(e)return"string"==typeof e?o(e,n):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}(e))||n&&e&&"number"==typeof e.length)return a&&(e=a),l=0,{s:n=function(){},n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}window.injectLoginForm=function(){var e,n=document.getElementById("loginForm"),t=document.getElementById("signin-banner-container"),o=document.getElementById("register-form-container");n||(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=window.loginPopupContent.trim("&quot;")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&amp;/g,"&")).replace(/(^"|"$)/g,"")).replace("window.showRegisterPopup","window.showRegisterForm")).replaceAll("login-email","login-form-email")).replaceAll("login-button","login-form-button"),(e=document.createElement("div")).innerHTML=n,(n=e.children[0]).setAttribute("id","login-form-container"),n.className="",n.classList.add("w-login-banner","user-content"),(e=n.children[0]).className="",e.classList.add("user-static-form","popup","user-content"),(e=e.children[0]).className="",e.classList.add("is-hidden"),e.setAttribute("id","loginFormCloseBtn"),(t||o).replaceWith(n))},window.injectLoginPopup=function(){var e=document.getElementById("login-popup-container");window.loginPopupInjected||e||(e=(e=(e=(e=(e=(e=(e=(e=window.loginPopupContent.trim("&quot;")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&amp;/g,"&")).replace(/(^"|"$)/g,"")).replaceAll("loginForm","loginPopup"),document.body.insertAdjacentHTML("beforeend",e),window.loginPopupInjected=!0)},window.showLoginPopup=function(e,n){n&&n.preventDefault(),window.injectLoginPopup(),window.resetStickyAdsOnDrawerVisible();var o=document.getElementById("login-popup-container"),i=(n=document.getElementById("closeLoginPopupButton"),document.getElementById("loginPopup")),r=document.getElementById("login-email");e&&(r.value=e,i[2].focus()),o.classList.add("is-visible"),window.handleCloseLoginPopupOnDocumentClick=function(e){var n=i.contains(e.target);o.classList.contains("is-visible")?n||e.target===i||e.target.classList.contains("js-subscription-link")||(o.classList.remove("is-visible"),document.removeEventListener("click",window.handleCloseLoginPopupOnDocumentClick)):document.removeEventListener("click",window.handleCloseLoginPopupOnDocumentClick)},setTimeout((function(){document.addEventListener("click",window.handleCloseLoginPopupOnDocumentClick)}),500),n.addEventListener("click",(function(e){o.classList.remove("is-visible"),document.removeEventListener("click",window.handleCloseLoginPopupOnDocumentClick)})),i.onsubmit=function(e){e.preventDefault();e=new FormData(e.target);var n,o=new URLSearchParams,i=t(e.entries());try{for(i.s();!(n=i.n()).done;){var r=n.value;o.append(r[0],r[1])}}catch(e){i.e(e)}finally{i.f()}var l=new XMLHttpRequest;(e=(l.open("POST","/popup-login/",!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),document.getElementById("login-form-error-msg")))&&e.classList.add("is-hidden"),document.getElementById("login-button").classList.add("loading"),l.onreadystatechange=function(){var e,n;4==l.readyState&&((n=JSON.parse(l.response)).user&&location.reload(),n.error&&(e=document.getElementById("login-form-error-msg"))&&(e.innerHTML=n.error,e.classList.remove("is-hidden"),n=document.getElementById("new-email-confirmation-click"))&&n.addEventListener("click",(function(e){e.preventDefault();var n=((e=new XMLHttpRequest).open("POST","/email-confirmation/",!1),document.getElementById("login-email"));e.send(n.value),location.reload()})),document.getElementById("login-button").classList.remove("loading"))},l.send(o.toString())}},window.showLoginForm=function(e,n){n&&n.preventDefault(),window.injectLoginForm(),window.resetStickyAdsOnDrawerVisible(),document.getElementById("login-form-container");n=document.getElementById("loginForm");var o=document.getElementById("login-form-email"),i=n[2];(e?(o.value=e,o.classList.add("prefilled"),o.readOnly=!0,i):o).focus(),n.onsubmit=function(e){e.preventDefault();e=new FormData(e.target);var n,o=new URLSearchParams,i=t(e.entries());try{for(i.s();!(n=i.n()).done;){var r=n.value;o.append(r[0],r[1])}}catch(e){i.e(e)}finally{i.f()}var l=new XMLHttpRequest;(e=(l.open("POST","/popup-login/",!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),document.getElementById("login-form-error-msg")))&&e.classList.add("is-hidden"),document.getElementById("login-form-button").classList.add("loading"),l.onreadystatechange=function(){var e,n;4==l.readyState&&((n=JSON.parse(l.response)).user&&(ga("send","event",{eventCategory:"article_limit_drawer",eventAction:"login",eventLabel:window.location.pathname}),gtag("event","article_limit_drawer",{event_action:"login",event_label:window.location.pathname}),location.reload()),n.error&&(e=document.getElementById("login-form-error-msg"))&&(e.innerHTML=n.error,e.classList.remove("is-hidden"),n=document.getElementById("new-email-confirmation-click"))&&n.addEventListener("click",(function(e){e.preventDefault();var n=((e=new XMLHttpRequest).open("POST","/email-confirmation/",!1),document.getElementById("login-form-email"));e.send(n.value),location.reload()})),document.getElementById("login-form-button").classList.remove("loading"))},l.send(o.toString())}},window.onSubmitLoginGetCaptchaToken=function(e){console.log(e),void 0!==e&&(window.CAPTCHA_TOKEN_IS_GENERATED=!0,window.USER_TOKEN=e)}}});